% !TeX root = ../geometry_main.tex
%==========================================================
%=========================================================
\chapter{Differential geometry leftovers}
%=========================================================
%=========================================================


In this long chapter, we collect various random topics in differential geometry that I feel like writing down.


%-----------------------------------------------------------------------
%========================================================
\section{Derivatives on tensors}
%=========================================================
%-----------------------------------------------------------------------

There are very many notions of derivatives on tensors.
In general, a (anti)-derivative of degree $(h,k)$ on tensors is a map from a suitable subset $\mathcal{D}$ of the tensor bundle 
\begin{equation}
    \delta: T^{\bullet}_{\bullet} (M)\subseteq \mathcal{D} \to T^{\bullet + h}_{\bullet + k} (M)
\end{equation}
that is linear and satisfies a Leibniz rule, up to a sign.
That is 
\begin{equation}
    \delta (S \otimes T) = (\delta S) \otimes T + (\pm)^{pq} S \otimes (\delta T),
\end{equation}
We call it \emph{anti}derivative if it changes sign when acting on the two factors of a tensor product.
For example, the exterior derivative $d$ is an antiderivative of degree $(0,1)$ on  differential forms, and the inner derivative $i_X$ along a vector field $X$ is an antiderivative of degree $(0,-1)$ on differential forms. 


\begin{mytheorem}[Uniqueness theorem for derivatives on tensors]
An (anti)-derivative $\delta$ on tensors--i.e. a linear map and obeying Leibniz rule up to a possible minus sign-- is completely determined by its action on functions and vector fields, or equivalently on functions and 1-forms.
\end{mytheorem}



\begin{mytheorem}[The variation of a tensor is a tensor.]\todotag{move it}
Indeed the vairation of a tensor $A^\bullet_\bullet$ is simply defined as 
\begin{equation}
    \delta A^\bullet_\bullet(x):= \frac{d A^\bullet_\bullet(x,\epsilon)}{d\epsilon}_{\mid \epsilon=0} \cdot \epsilon =\lim_{h\to0} \frac{A^\bullet_\bullet(x,h)-A^\bullet_\bullet(x,0)}{h} \cdot \epsilon,
\end{equation}
where $\epsilon\to A^\bullet_\bullet(x,\epsilon)$ parametrizes a family of tensors at the same point $x\in M$, so that we can take the usual Newton derivative.
At each $|h|>0$ the ratio at the right-hand side is a tensor, being the difference and multiple of tensors, so that also the limit transforms as a tensor.
\end{mytheorem}


%========================================================
\subsection{Lie derivative}\todotag{Merge various definitions into bullet list}
\label{sec:lie_derivative}
%=========================================================

\begin{mytheorem}[Lie derivative as commutator of vector fields]
The Lie derivative $\mathcal{L}_X$ along a vector field $X$ is the unique derivative of degree $(0,0)$ on tensors that reduces to the usual directional derivative when acting on functions and to the usual Lie bracket $\mathcal{L}_X Y = [X,Y]$ when acting on vector fields.
It is then extended to all tensors using linearity and the Leibniz rule
\begin{equation}
    \mathcal{L}_X (S \otimes T) = (\mathcal{L}_X S) \otimes T + S \otimes (\mathcal{L}_X T).
\end{equation}
\end{mytheorem}


\begin{mytheorem}[Lie derivative as flow derivative]
The Lie derivative is equivalently defined as the infinitesimal generator of the flow induced by a vector field \(X\).
Namely, given a tensor field \(T\in T^{\bullet}_{\bullet} (M)\), we define the Lie derivative along \(X\) as
\begin{equation}
    \mathcal{L}_X T := \lim_{\epsilon \to 0} \frac{\phi_{X,\epsilon}^* (T) - T}.{ \epsilon},
\end{equation}
where \(\phi_{X,\epsilon}: M \to M\) is the flow generated by the vector field \(X\) for parameter distance \(\epsilon\) and \(\phi_{X,\epsilon}^*\) is the pullback map induced by \(\phi_{X,\epsilon}\) on tensors.
\end{mytheorem}


\begin{mytheorem}[Cartan formula \& yet another way to define the Lie derivative]
A fundamental result linking the Lie derivative $\mathcal{L}_X$, the exterior derivative $d$ and the inner derivative $i_X$.
Namely, for any differential form $\omega$, we have
\begin{equation}
    \mathcal{L}_X \omega = i_X d \omega + d (i_X \omega).
\end{equation}
The right-hand side is defined only for differential forms, but the left-hand side makes sense for any tensor.
Since differential forms include functions (0-forms) and differentials (1-forms), we can use this formula to \emph{define} the Lie derivative and then extend it to all tensors using linearity and the Leibniz rule.
\end{mytheorem}

\begin{mytheorem}[The Lie derivative is ignorant of the curvature \& the metric]
As evident from any of its definitions, the Lie derivative does not depend on any notion of connection or metric on the manifold.
It only depends on the smooth-- i.e. differential-- structure of the manifold, being defined in terms of commutators, or flows or exterior and inner derivatives.
It thus cannot give any information on the curvature of the manifold beyond the constrained already encoded in the smooth structure itself.
\end{mytheorem}


\begin{mytheorem}[Lie derivative and pullback commute]
Given a diffeomorphism $\phi: M \to N$ between two manifolds and a vector field $X\in \mathfrak{X}(M)$, the Lie derivative along $X$ and the pullback $\phi^*$ commute, i.e.
\begin{equation}
    \phi^* (\mathcal{L}_X T) = \mathcal{L}_{\phi^* X} (\phi^* T),
\end{equation}
for any tensor field $T$ on $N$.
\end{mytheorem}



\begin{mytheorem}[Lie derivative in coordinate basis \& replacing partial with covariant derivatives]
In a coordinate basis $\{\partial_\mu\}$, the Lie derivative along a vector field $X = X^{\mu} \partial_\mu$ acts on a $(h,k)$-tensor field $T$ as
\begin{align}
\begin{aligned}
    \mathcal{L}_X T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    &= X^{\mu} \partial_\mu\left( T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} \right)
    - \sum_{i=1}^h \left(\partial_\mu X^{\nu_i}\right) T^{\nu_1 \dots \mu \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    + \sum_{j=1}^k \left(\partial_{\rho_j} X^{\mu}\right) T^{\nu_1 \dots \nu_h}_{\rho_1 \dots \mu \dots \rho_k}.
\end{aligned}  
\end{align}
Note that the above expression is a tensor, even if it contains ordinary partial derivatives.
If we are given a metric $g$ \footnote{or equivalently whenever we have a torsion-less connection for which we can then find normal coordinates where the Christoffel symbols vanish} we can replace partial derivatives with covariant derivatives in normal coordinates, obtaining
\begin{align}
\begin{aligned}
    \mathcal{L}_X T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    &= X^{\mu} \nabla_\mu\left( T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} \right)
    - \sum_{i=1}^h \left(\nabla_\mu X^{\nu_i}\right) T^{\nu_1 \dots \mu \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    + \sum_{j=1}^k \left(\nabla_{\rho_j} X^{\mu}\right) T^{\nu_1 \dots \nu_h}_{\rho_1 \dots \mu \dots \rho_k}.
\end{aligned}
\end{align}
The last expression is tensorial by construction.
Since it matches the previous one in normal coordinates, it is indeed equivalent to it in any coordinate system.
\end{mytheorem}



%========================================================
\subsection{Parallel transport, connection \& covariant derivative}
%=========================================================


Parallel transport and covariant derivative are two faces of the same coin.
Namely, covariant derivative can be defined as the infinitesimal generator of parallel transport along curves.

\begin{mytheorem}[Parallel transport]
A parallel transport along a curve $\gamma: [0,1] \to M$ is a \emph{bijective linear} map 
\begin{equation}
    \tau_{\gamma}: T_{\gamma(0)} M \to T_{\gamma(1)} M
\end{equation}
such that for any two tensor fields
\begin{equation}\label{}
    \tau_{\gamma} (S \otimes T) = \tau_{\gamma} (S) \otimes \tau_{\gamma} (T).
\end{equation}
In order to obtain a well-defined notion of parallel transport, we must consistently define such a map for any curve $\gamma$ connecting any two points of the manifold.
Just like for dervatives on tensors, the parallel transport is completely determined by its action on functions and vector fields, or equivalently on functions and 1-forms.
\end{mytheorem}


\begin{mytheorem}[Connection]
A connection is a \emph{derivative} of degree $(0,1)$ on tensors, i.e. obeys linearity and Leibniz rule,
\begin{equation}
    \nabla: T^{\bullet}_{\bullet} (M) \to T^{\bullet}_{\bullet + 1} (M),
\end{equation}
that reduces to the usual directional derivative when acting on function.
It is completely determined by its action on functions and vector fields, or equivalently on functions and 1-forms.
In particular, one defines the \textbf{Christoffel symbols} $\Gamma^{\rho}_{\mu \nu}$ with respect to a coordinate basis as
\begin{equation}
    \nabla_{\partial_\mu} \partial_\nu = \Gamma^{\rho}_{\mu \nu} \partial_\rho.
\end{equation}
For the interpretation of the Christoffel symbols, see the discussion in \todotag{add ref to section}
By the Leibniz rule, the general action on a $(h,k)$-tensor field $T$ reads
\begin{equation}\label{eq:connection_on_tensor}
    \nabla_{\partial_\mu} T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    = \partial_\mu\left( T^{\nu_1 \dots \nu_h}_{ \rho_1 \dots \rho_k} \right)
    + \sum_{i=1}^h \Gamma^{\nu_i}_{\mu \sigma} \,T^{\nu_1 \dots \sigma \dots \nu_h}_{ \rho_1 \dots \rho_k} 
    - \sum_{j=1}^k \Gamma^{\sigma}_{\mu \rho_j}\, T^{\nu_1 \dots \nu_h}_{\rho_1 \dots \sigma \dots \rho_k}.
\end{equation}
Note that the value of $\nabla_X T$ at a point $p\in M$ depends only on the values of $T$ along any curve whose tangent at $p$ is $X_p$.
\end{mytheorem}

\begin{mytheorem}[Covariant derivative \& connection as infinitesimal generator of parallel transport]
Given a curve $\gamma: [0,1] \to M$ and a connection $\nabla$, the parallel transport $\tau_{\gamma}$ along $\gamma$ generated by $\nabla$ is defined as the unique map such that for any tensor field $T\in T_{\gamma(0)} M$ the curve $t \mapsto T(t) := \tau_{\gamma|_{[0,t]}} (T)$ satisfies the parallel transport equation
\begin{equation}
    0 = \nabla_{\dot{\gamma}(t)} T(t) 
\end{equation}
As usual, it is sufficient to define it on functions and vector fields, or equivalently on functions and 1-forms, and then extend it to all tensors using linearity and the Leibniz rule.
The parallel transport map is well-defined thanks to standard theorems on existence and uniqueness of solutions of ODEs.

If we are given a tensor field $S(t)$ along the curve $\gamma$, we can define the covariant derivative along $\gamma$ as
\begin{equation}
    \frac{D}{dt}S(t) := \lim_{\epsilon \to 0} \frac{\tau_{\gamma|_{[t+\epsilon,t]}}^{-1} (S(t+\epsilon)) - S(t)}.{\epsilon} 
\end{equation}
That is we use parallel transport induced by $\nabla$ to compare tensors at different points along the curve.
This is indeed way $\nabla$ is called \emph{connection}: it gives a way to connect and compare `generalied tangent planes' i.e. tensors at different points.
As expected, we obtain back the covariant derivative gives back the original expression in terms of the connection
\begin{equation}
    \frac{D}{dt}S(t) := \lim_{\epsilon \to 0} \frac{\tau_{\gamma|_{[t+\epsilon,t]}}^{-1} (S(t+\epsilon)) - S(t)}
    \equiv \nabla_{\dot{\gamma}(t)} S(t),
\end{equation}
where we use that \eqref{eq:connection_on_tensor} depends only on the values of $S$ along the curve whose tangent at $p$ is $\dot{\gamma}(t)$.
\end{mytheorem}



%========================================================
\subsection{The total covariant exterior derivative}
%=========================================================

See the sec







%-----------------------------------------------------------------------
%========================================================
\section{Differential forms \& integration} \todotag{To be written}
%=========================================================
%-----------------------------------------------------------------------


\begin{mytheorem}[Indices bookkeeping for differential forms]
The canonical basis for $\Lambda^k(M)$ is written as $dx^{i_1} \wedge \cdots \wedge dx^{i_k}$ with $i_1 < i_2 < \cdots < i_k$.
We will insetad use indices $\sigma_1, \dots, \sigma_k \subseteq \{1, \dots, n\}$ to denote unordered indices.
A $k$-form $\omega \in \Lambda^k (M)$ can be written equivalently as
\begin{align}\label{eq:indices_bookkeeping_differential_forms}
\begin{aligned}
    \omega &= \sum_{i_1 < \cdots < i_k} \omega_{i_1 \dots i_k} dx^{i_1} \wedge \cdots \wedge dx^{i_k}
    \\
    &= \frac{1}{k!} \sum_{\sigma_1, \dots, \sigma_k} \omega_{\sigma_1 \dots \sigma_k} dx^{\sigma_1} \wedge \cdots \wedge dx^{\sigma_k}
    \\
    &= \sum_{\sigma_1, \dots, \sigma_k} \omega_{\sigma_1 \dots \sigma_k}\, dx^{\sigma_1} \otimes \cdots \otimes dx^{\sigma_k},
\end{aligned}
\end{align}
In the first expression we do not sum over repeated indices, which are ordered $i_1 \dots i_k$.
In the second expression we instead sum over the \emph{unordered} indices $\sigma_1, \dots, \sigma_k$, we define $\omega_{\sigma_1 \dots \sigma_k}$ to be totally antisymmetric, and divide by $k!$ to avoid overcounting.
In the third expression we explicitate the wedge product in terms of antisymmetrized tensor product: because $\omega_{\sigma_1 \dots \sigma_k}$ is already totally antisymmetric, and we are still summing over the $\sigma$ indices, the double counting cancel $1/k!$ factor.
\end{mytheorem}



%========================================================
\subsection{Derivatives on differential forms} \todotag{To be written}
%=========================================================

For differential forms (anti)-derivatives of degree $k\in \mathbb{Z}$ obeys the Leibniz rule in the form
\begin{equation}
    \delta: \Lambda^\bullet (M) \to \Lambda^{\bullet+k} (M), \qquad \delta (\alpha \wedge \beta) = (\delta \alpha) \wedge \beta + (\pm1)^{|\alpha|} \alpha \wedge (\delta \beta).
\end{equation}
Note the sign is well-defined since differential forms are graded-commutative, i.e. $\alpha \wedge \beta = (-1)^{|\alpha||\beta|} \beta \wedge \alpha$.

\begin{mytheorem}[Lie derivative on differential forms]
The Lie derivative is a well-behaved derivative of degree $(0,0)$ on differential forms, defined as the restriction of the usual Lie derivative on tensors.
From the Leibniz rule for tensors and the linearity of the antisymmetrization map, it immediately follows that the Lie derivative also obeys the Leibniz rule wrt the wedge product
\begin{equation}
    \mathcal{L}_X(\alpha \wedge \beta) = (\mathcal{L}_X \alpha) \wedge \beta + \alpha \wedge (\mathcal{L}_X \beta).
\end{equation}
\end{mytheorem}


\begin{mytheorem}[Inner derivative]
The inner derivative is a \emph{anti}derivative of degree $(0,-1)$ on differential forms, defined as the contraction along a vector field $X$
\begin{equation}
    i_X: \Lambda^k (M) \to \Lambda^{k-1} (M)\quad  \mid\quad  i_X \omega := \omega (X, \cdot, \cdots, \cdot) 
\end{equation}
In a basis of $\Lambda^{k-1}(M)$ i.e. for \emph{ordered} indices $i_1< \dots <i_{k-1}$, but summing over \emph{any} value $\sigma\in \{1\dots n\}$, we have
\begin{equation}\label{eq:interior_derivative_basis_expr}
   (i_X \omega) = X^{\sigma}\, \omega_{\sigma i_1 \dots i_{k-1}} \, dx^{i_1} \wedge \cdots \wedge dx^{i_{k-1}}
\end{equation} 
where again $\omega_{\sigma_0 \dots \sigma_k}$ is totally antisymmetric.
Indeed, using the convention \eqref{eq:indices_bookkeeping_differential_forms}, we have
\begin{align}
\begin{aligned}
    i_X(\omega) &= \sum_{\sigma_0 \dots \sigma_{k-1}} \omega_{\sigma_0 \dots \sigma_{k-1}}\, dx^{\sigma_0}\otimes \cdots \otimes dx^{\sigma_{k-1}}\, (X, \cdots)
    \\
    &= \sum_{\sigma_0 \dots \sigma_{k-1}} X^{\sigma_0} \, \omega_{\sigma_0 \sigma_1 \dots \sigma_{k-1}}dx^{\sigma_1}\otimes \cdots \otimes dx^{\sigma_{k-1}}
    \\
    &= \sum_{\sigma_0 \in\{1\dots n\},\,\,i_1 < \cdots < i_{k-1}} X^{\sigma_0} \, \omega_{\sigma_0 i_1 \dots i_{k-1}}\,\,dx^{i_1}\wedge\cdots \wedge dx^{i_{k-1}}.
\end{aligned}
\end{align}
\end{mytheorem}


\begin{mytheorem}[Exterior derivative]
The exterior derivative is an \emph{anti}derivative of degree $(0,1)$ on differential forms, defined as the unique map
\begin{equation}
    d: \Lambda^k (M) \to \Lambda^{k+1} (M)
\end{equation}
that reduces to the usual differential when acting on functions and satisfies $d^2 = 0$.
Under this conditions, one proves the usual formula in a coordinate basis
\begin{equation}\label{eq:exterior_deriv_basis_expr}
    d \Big(\omega_{i_1 \dots i_k} dx^{i_1} \wedge \cdots \wedge dx^{i_k}\Big) = \partial_\mu \omega_{i_1 \dots i_k} \, dx^{\mu} \wedge dx^{i_1} \wedge \cdots \wedge dx^{i_k}.
\end{equation}
\end{mytheorem}


\begin{mytheorem}[Replacing partial with covariant derivatives]
The exterior derivative on a form $\omega=\omega_{i_1 \dots i_k} dx^{i_1} \wedge \cdots \wedge dx^{i_k}$ can equivalently be written in terms of covariant derivatives associated to a torsion-less connection,
\begin{align}
    d\omega &= \partial_\mu \omega_{i_1 \dots i_k} \, dx^{\mu} \wedge dx^{i_1} \wedge \cdots \wedge dx^{i_k}
    \equiv
    \nabla_\mu \omega_{i_1 \dots i_k} \, dx^{\mu} \wedge dx^{i_1} \wedge \cdots \wedge dx^{i_k}.
\end{align}
Indeed both expressions define tensors, the latter by definition of covariant derivative and the former by construction.
Since they coincide in normal coordinates where the Christoffel symbols vanish, they coincide in any coordinate system.
%
\end{mytheorem}


%========================================================
\subsection{Integration} \todotag{To be written}
%=========================================================

\begin{mytheorem}[Integration of differential forms]
Given an oriented submanifold $S^{(k)} \subseteq M^{(n)}$ of dimension $k$, we can integrate $k$-forms $\omega \in \Lambda^k (M)$ over $S$.
Namely, given a parametrization $\phi: U \subseteq \mathbb{R}^k \to S \subseteq M$, we define
\begin{equation}
    \int_S \omega := \int_U \phi^* (\omega).
\end{equation}
Note that $\phi^* (\omega) \in \Lambda^k (U)$ is a $k$-form on $\mathbb{R}^k$, which can be written as $f(x) dx^1 \wedge \cdots \wedge dx^k$ for some function $f: U \to \mathbb{R}$, and then integrated as usual.
The orientation of $S$ is necessary to have a well-defined integral, since changing the orientation changes the sign of the integral, but orientability of $M$ is not necessary.
\end{mytheorem}

\begin{mytheorem}[Stokes theorem]
This is simply the fundamental theorem of calculus for differential forms.
Namely, for any \emph{oriented} manifold $M^{(n)}$ with boundary $\partial M$ and any differential form $\omega \in \Lambda^{n-1} (M)$, we have
\begin{equation}
    \int_M d\omega = \int_{\partial M} \omega.
\end{equation}
In particular, Stokes theorem formalizes a fundamental relation between the purely algebraic property $d^2 = 0$ and the purely geometric property $\partial ^2 M =0$ i.e. the `boundary of a boundary is empty'.
\end{mytheorem}


%-----------------------------------------------------------------------------
\subsubsection{Rediscovering familiar operations}
%-----------------------------------------------------------------------------

\begin{mytheorem}[Divergence \& Gauss theorem.]
Given a volume form $\Omega$ and a vector field $X$ on a manifold $M^{(n)}$, define the \textbf{divergence} as the $n$-form
\begin{equation}
    \mathrm{div}_\Omega (X) := \mathcal{L}_X \Omega = d (i_X \Omega) + i_X \graycancel{d\Omega} = d (i_X \Omega).
\end{equation}
Note that this definition is independent of the notion of metric once we are given a volume form $\Omega$.
We can compute the divergence using the expressions \eqref{eq:interior_derivative_basis_expr}-\eqref{eq:exterior_deriv_basis_expr} for $i_x$ and $d$, but it is much easier to use the Leibniz rule for $\mathcal{L}$.
Writing $\Omega = a(x) dx^1 \wedge \cdots \wedge dx^n$ for some nowhere-vanishing function $a$
\begin{align}
    \mathrm{div}_\Omega (X) 
    &= \big(\mathcal{L}_X a\big)\,\,dx^1 \wedge \cdots \wedge dx^n + a(x) \sum_{\mu=1}^n dx^1 \wedge \cdots \wedge \mathcal{L}_X(dx^\mu) \wedge \cdots \wedge dx^n
    \\&= X(a) \, dx^1 \wedge \cdots \wedge dx^n + a(x) \sum_{\mu=1}^n dx^1 \wedge \cdots \wedge dX^{\mu} \wedge \cdots \wedge dx^n
    \\&= \left( X(a) + a(x) \sum_{\mu=1}^n \partial_{\mu} X^{\mu} \right) dx^1 \wedge \cdots \wedge dx^n 
    \\&= \left( \frac{1}{a(x)} \partial_{\mu} \big(a(x) X^{\mu}\big) \right) \, \Omega.
\end{align}
Note that we recover the usual formula for divergence in $\mathbb{R}^n$ when $a(x) = 1$.
\smallskip

More generally, when $\Omega = \sqrt{|g|} dx^1 \wedge \cdots \wedge dx^n$ is the \textbf{metric volume form}, we have
\begin{equation}
    \mathrm{div}_g (X) = \left( \frac{1}{\sqrt{|g|}} \partial_{\mu} \Big(\sqrt{|g|} X^{\mu}\Big) \right) \Omega_g = \left( \nabla_{\mu} X^{\mu} \right) \Omega_g.
\end{equation}
The last equality follows from the definition $\nabla_{\mu}X^\mu= \partial_\mu X^\mu + \Gamma_{\mu \nu}^\mu X^\nu$ and the well-known identity $\Gamma_{\mu \nu}^\mu = \frac{1}{\sqrt{|g|}} \partial_\nu \sqrt{|g|}$ proven in \eqref{eq:metric_christoffel_contraction_identity}.
\smallskip

\textbf{Gauss theorem} is immediately proved using Cartan formula and Stokes theorem.
Let $M$ be an oriented manifold with boundary $\partial M$ and $X$ a vector field.
Then
\begin{equation}
    \int_M \mathrm{div}_\Omega (X) = \int_M \mathcal{L}_X \Omega = \int_M d (i_X \Omega) + i_X \graycancel{d\Omega} = \int_{\partial M} i_X \Omega.
\end{equation}
In the case $\Omega$ is the volume form induced by a metric $g$, we can rewrite the right-hand side and get
\begin{equation}
    \int_M \mathrm{div}_g (X) = \int_{\partial M} i_X \Omega_g = \int_{\partial M} g(X, N)\,\, \tilde{\Omega}_g,
\end{equation}
where $N$ is the outward-pointing unit normal vector field on $\partial M$ and $\tilde{\Omega}$ is the volume form induced by the metric on $\partial M$.
It is indeed immediate to check that $i_X \Omega_g = g(X,N) \tilde{\Omega}_g$.

In turn, we have the notion of \textbf{integration by parts}.
First note that for any \emph{arbitrary} volume form
\begin{equation}
    df\wedge i_x \Omega = \left(\partial_\mu f \,dx^\mu\right)\wedge \left(X^{\nu_1} \Omega_{\nu_1 \dots \nu_n} dx^{\nu_2} \wedge \cdots \wedge dx^{\nu_n}\right) = \partial_\mu f X^{\mu}\,\, \Omega = df(X) \,\Omega.
\end{equation}
Then we have 
\begin{equation}
    \int_{\partial M} f\,\, i_X \Omega = \int_M d(f\, i_X \Omega) = \int_M df \wedge i_X \Omega + f\, d i_X\Omega = \int_M df(X) \,\Omega + \int_M f\, \mathrm{div}_\Omega (X).
\end{equation}
In case $\Omega = \sqrt{|g|} dx^1 \wedge \cdots \wedge dx^n$ is the metric volume form this reads
\begin{align}
\begin{aligned}
    \int_{M} f\, \underbrace{\nabla_\mu X^{\mu} \, \Omega_g}_{\mathrm{div}_g(X)}
    &= \int_{\partial M} f\,\, i_X\Omega_g\, - \int_M \underbrace{df(X)}_{= X^{\mu} \partial_\mu f} \, \Omega_g
    = \int_{\partial M} f\,\, g(X,N)\, \tilde{\Omega}_g - \int_M \underbrace{X^{\mu} \partial_\mu f}_{=g(X,\nabla f)}\, \Omega_g,
\end{aligned}
\end{align}
where $\tilde{\Omega}_g$ is the volume form induced by the metric on $\partial M$ and $N$ is the outward-pointing unit normal vector field on $\partial M$.
\end{mytheorem}


\begin{mytheorem}[Curl \& 3D Stokes theorem.]
Given a \emph{Riemannian} manifold $(M,g)$ of dimension $3$ and a vector field $X$, define the 1-from $g(X,\cdot)$, that is lower an index $X_\mu=g_{\mu \nu} X^{\nu}$.
Define the curl as the 2-from obained by taking the exterior derivative
\begin{equation}
    \mathrm{curl} (X) := d (g(X,\cdot)) = d \Big(X_{\mu} \wedge dx^{\mu}\Big).
\end{equation}
Note that in $\mathbb{R}^3$ with the standard Euclidean metric, this definition coincides with the usual notion of curl.
\smallskip

The general Stokes theorem immediately gives the familiar version in $\mathbb{R}^3$:
\begin{equation}
    \int_S \mathrm{curl} (X) =\int_S d (g(X,\cdot)) = \int_{\partial S} g(X,\cdot),
\end{equation}
for any oriented surface $S$ with boundary $\partial S$.
\end{mytheorem}


\begin{mytheorem}[Complex integration \& Gauss-Green Theorem.]
Consider the complex plane as a Riemannian manifold $(\mathbb{R}^2, g)$ with the standard Euclidean metric.
Given a complex homolorphic function $f: \mathbb{C} \to \mathbb{C}$, both the real and imaginary parts \todotag{Finish this}
\end{mytheorem}



%========================================================
\subsection{Hodge dual \& friends} 
%=========================================================

\begin{mytheorem}[Hodge dual]
%
Given a pseudoriemannian manifold \((M^{(n)}, g)\), write the metric volume form as
\begin{equation}
    \Omega = \sqrt{|g|}dx^1 \wedge \cdots \wedge dx^n 
    = \sqrt{|g|} \epsilon_{\alpha_1 \dots \alpha_n} dx^{\alpha_1} \otimes \cdots \otimes dx^{\alpha_n}
    = \frac{1}{n!} \sqrt{|g|} \epsilon_{\alpha_1 \dots \alpha_n} dx^{\alpha_1} \wedge \cdots \wedge dx^{\alpha_n},
\end{equation}
where the first expression is \emph{not} summed over indices, while the latter two are, and $\epsilon_{\alpha_1 \dots \alpha_n}$ is the Levi-Civita totally antisymmetric \emph{symbol} $\epsilon_{1 2 \dots n} = +1$, not the tensor.

The Hodge dual is the map
\begin{align}
    \star: \Lambda^\bullet (M) &\to \Lambda^{n-\bullet} (M) \quad \mid \quad \theta \mapsto \Omega_g(\theta^{\#}, \cdots),
\end{align}
where \(\theta^{\#}\) is the tensor of rank $(\bullet,0)$ obtained by raising all indices of $\theta$ with the metric.
That is, transform a $k$-form into a $(k,0)$-tensor and then feed it to the first $k$ slots of the volume form to get a $(n-k)$ form.
%
Explicitly, with the index convention \eqref{eq:indices_bookkeeping_differential_forms} for {\small $j_1<\cdots<j_k$} ordered and {\small $\mu_1\cdots\mu_k$} arbitrary, the form $\theta$ is
{\small
\begin{align}
    \theta &= \theta_{j_1 \dots j_k} dx^{j_1} \wedge \cdots \wedge dx^{j_k} = \theta_{\mu_1 \dots \mu_k} dx^{\mu_1} \otimes \cdots \otimes dx^{\mu_k}\quad \Rightarrow \quad \theta^{\#} = g^{\mu_1 \alpha_1} \cdots g^{\mu_k \alpha_k} \theta_{\mu_1 \dots \mu_k} \partial_{\alpha_1}\otimes \cdots \otimes \partial_{\alpha_k}.
\end{align}
}
The Hodge dual of the \(k\)-form \(\theta\) is then 
\begin{align}
    \star \theta &:= \Omega_g(\theta^{\#}, \cdots)
    = \sqrt{|g|}\epsilon_{\beta_1\dots \beta_n} dx^{\beta_1} \otimes \cdots \otimes dx^{\beta_n} \left( g^{\mu_1 \alpha_1} \cdots g^{\mu_k \alpha_k} \theta_{\mu_1 \dots \mu_k} \partial_{\alpha_1}\otimes \partial_{\alpha_k}, \cdots \right)
    \\
    &= \sqrt{|g|}\epsilon_{\alpha_1\dots \alpha_k\beta_{k+1}\dots \beta_n} g^{\mu_1 \alpha_1} \cdots g^{\mu_k \alpha_k} \theta_{\mu_1 \dots \mu_k} dx^{\beta_{k+1}} \otimes \cdots \otimes dx^{\beta_n}
    \\
    &= \frac{1}{(n-k)!} \sqrt{|g|}\epsilon_{\alpha_1\dots \alpha_k\beta_{k+1}\dots \beta_n} \theta^{\alpha_1 \dots \alpha_k} dx^{\beta_{k+1}} \wedge \cdots \wedge dx^{\beta_n}.
\end{align}

\noindent
\todotag{Check signs etc}
The Hodge dual obeys the following important properties.
\begin{itemize}
    %
    \item \textbf{Idempotent up to a sign.} For a metric {\small \(g=(+1\dots+1,-1\dots-1)\)} of signature {\small \((n-s,s)\)}, and any form \(\alpha\) we have
    \begin{align}
        \star \star \alpha = (-1)^{|\alpha|(n-|\alpha|) + s} \alpha
    \end{align}
    %
    \item \textbf{Symmetry wrt $\wedge$ product.} For any two \(k\)-forms \(\alpha, \beta\) of the same degree
    \begin{equation}
        \alpha \wedge \star \beta = \beta \wedge \star \alpha = \langle \alpha, \beta \rangle_g \, \cdot \Omega_g,\quad \text{where}\quad \langle \alpha, \beta \rangle_g = g^{\mu_1 \nu_1} \cdots g^{\mu_k \nu_k} \alpha_{\mu_1 \dots \mu_k} \beta_{\nu_1 \dots \nu_k}
    \end{equation}
    is the pointwise scalar product induced by the metric \(g\) on $(0,k)$-tensors, times the volume form.
    % 
    \item \textbf{Star of a wedge (degree additivity).}
    For any two form $\alpha\in\Omega^p$ and $\beta\in\Omega^q$
    \begin{align}
        \star(\alpha\wedge\beta)
        =\iota_{\beta^\sharp}(\star\alpha)
        =(-1)^{pq}\,\iota_{\alpha^\sharp}(\star\beta).
    \end{align}
    The inner derivative $i_{\beta^{\#}}$ of a $j$-form with respect to the  $(\ell,0)$-tensor $\beta^\sharp$ means contracting the first $\ell$ slots of the form with the tensor, and gives zero if $\ell>j$. That is when $p+q>n$.
    %
\end{itemize}

\end{mytheorem}


\begin{mytheorem}[The Hodge scalar product on differential forms.\todotag{Finish this}]
Given two \(k\)-forms \(\alpha, \beta\) on a pseudoriemannian manifold \((M,g)\), the Hodge scalar product is
\begin{equation}
    \langle \alpha, \beta \rangle_{\,\mathrm{Hodge}} := \int_M \alpha \wedge \star \beta
    = \int_M \beta \wedge \star \alpha 
    = \int_M \underbrace{\alpha_{\mu_1 \dots \mu_k}\, \beta_{\nu_1 \dots \nu_k} \,g^{\mu_1\nu_1} \dots g^{\mu_k \nu_k}}_{=\langle \alpha, \beta \rangle_g} \,\,\, \Omega_g\,.
\end{equation}
It is indeed \emph{real} and \emph{symmetric} thanks to the Hodge dual properties, and coincides with the metric contraction of the two forms integrated over the manifold via the volume form.
In particular, when \(\alpha = \beta\)
\begin{equation}
    \langle \alpha, \alpha \rangle_{\mathrm{Hodge}} = \int_M \alpha \wedge \star \alpha = \int_M ||\alpha||^2 \,\Omega,
\end{equation}
where \(||\alpha||^2\) is the pointwise norm of \(\alpha\) induced by the metric \(g\).
Note that the signature of this scalar product on $\Lambda^k(M)$ depends on both the degree \(k\) of the forms and the signature of the metric \(g\).
For example, on the subspace of 1-froms $\Lambda^1 (M)$, the Hodge product has the same signature $(n-s,s)$ as the metric \(g\) itself.
\end{mytheorem}


\begin{mytheorem}[The codifferential. \todotag{Finish}]
%
The codifferential \(\delta\) is defined as the adjoint of the exterior derivative \(d\) with respect to the Hodge scalar product\footnote{Beware that $\delta$ is sometimes defined as \emph{minus} the adjoint of $d$ to make the D'Alambertian $\Box =\delta d+d\delta$ positive definite rather than negative in the Riemannian case. It is just a convention.}
\begin{align}
    \langle \delta \alpha, \beta \rangle_{\mathrm{Hodge}} &:= \langle \alpha, d \beta \rangle_{\mathrm{Hodge}} \quad \Rightarrow \quad \delta := (-1)^{\bullet} \star^{-1}d\,\star = (-1)^{n(\bullet-1)+s+1} \star d \,\star\,\,.
\end{align}
Indeed for any  $k$-form \(\alpha\) and $k\!-\!1$ form \(\beta\)
\begin{align}
    \langle \alpha, d\beta \rangle_{\mathrm{H}} 
    &= \langle d \beta, \alpha \rangle_{\mathrm{H}}
    = \int_M d \beta \wedge \star \alpha
    = \graycancel{\int_M d(\beta \wedge \star \alpha)} - \int_M (-1)^{|\beta|} \beta \wedge d\star \alpha
    \\
    &=
    \underbrace{(-1)^{|\beta|+1+(|\alpha|-1)(n-|\alpha|+1)+s}}_{=(-1)^{n(|\alpha|-1)+s}} \int_M  \beta \wedge (\star\star d\star \alpha)
    \equiv
    (-1)^{n(|\alpha|-1)+s+1} \big\langle\, \star d\,\star \alpha\,, \beta \big\rangle_{\mathrm{H}}.  
\end{align}
In a chart we have\todotag{Check formula}
\begin{align}
    (\delta \alpha)_{\mu_1 \dots \mu_{k-1}} 
    &= - \nabla^{\nu} \alpha_{\nu \mu_1 \dots \mu_{k-1}} 
    = - \frac{1}{\sqrt{|g|}} \partial_{\nu} \Big(\sqrt{|g|} g^{\nu \rho} \alpha_{\rho \mu_1 \dots \mu_{k-1}}\Big).
\end{align}
The codifferential is a linear map of degree \((0,-1)\)
\begin{equation}
    \delta: \Lambda^\bullet (M) \to \Lambda^{\bullet-1} (M),
\end{equation}
but it fails the Leibniz rule i.e. it does not respect the wedge product, so it is not an (anti)-derivative.


\smallskip

\noindent
It obeys the fundamental properties.
\begin{itemize}
    \item \textbf{Nilpotency} \(\delta^2 = 0\), from nilpotency of $d$ and indempotency of $\star$ $\Rightarrow$ homology!
    \item \textbf{Poincaré lemma.} Co-closed implies locally co-exact: \(\delta \alpha = 0 \Rightarrow \alpha = \delta \beta\).
    \item \textbf{Adjointness} \(\langle \delta \alpha, \beta \rangle_{\mathrm{Hodge}} = \langle \alpha, d \beta \rangle_{\mathrm{Hodge}}\).
    \item \textbf{Integration by parts} $\displaystyle \int_M d\alpha \wedge \star \beta = \int_M \alpha \wedge \star \delta \beta \quad $ for any \(k\) and $k\!-\!1$ form \(\alpha,\beta\).

    \item \textbf{Relations with star} {$\quad \displaystyle\star \delta = (-1)^{\bullet} d \star \quad \text{and} \quad \delta \star = (-1)^{\bullet +1} \star d.$}
\end{itemize}

\end{mytheorem}


\begin{mytheorem}[Example: Maxwell equations in terms of differential forms \& Hodge dual]
In any dimension $n$, define the electromagnetic field strength 2-form \(F\) as
\begin{equation}
    F := \frac{1}{2} F_{\mu \nu} dx^{\mu} \wedge dx^{\nu}.
\end{equation}
In $4$-dimension the electric and magnetic fields are encoded in the components of $F$ as
\begin{equation}
    F_{\mu \nu} = \qquad F_{\mu\nu} = \begin{pmatrix}
    0 & -E_1 & -E_2 & -E_3 \\
    E_1 & 0 & B_3 & -B_2 \\
    E_2 & -B_3 & 0 & B_1 \\
    E_3 & B_2 & -B_1 & 0
    \end{pmatrix}.
\end{equation}
%
Given a current $n$-vector $J^\mu$, define the current $1$-form lowering the indices with the metric
\begin{equation}
    J := J_{\mu} dx^{\mu}.
\end{equation}
One also defines the current $(n-1)$--form as its Hodge dual
{\small
\begin{align}
    \star J &:= \Omega_g(J^\mu \partial_\mu,\cdots)= \sqrt{|g|}dx^0\wedge \cdots \wedge dx^{n-1} (J^\mu \partial_\mu,\cdots) 
    = \sqrt{|g|}\,\epsilon_{\alpha_0\dots \alpha_{n-1}} dx^{\alpha_0} \otimes \cdots \otimes dx^{\alpha_{n-1}} (J^\mu \partial_\mu,\cdots)
    \\
    &=  \sqrt{|g|}\,\epsilon_{\alpha_0\dots \alpha_{n-1}} J^{\alpha_0}\, dx^{\alpha_1} \otimes \cdots \otimes dx^{\alpha_{n-1}} 
    = \sqrt{|g|}\,\frac{1}{(n-1)!}\epsilon_{\alpha_0\dots \alpha_{n-1}} J^{\alpha_0}\, dx^{\alpha_1} \wedge \cdots \wedge dx^{\alpha_{n-1}}.
\end{align}
}
%
The Maxwell equations read
\begin{equation}
    dF = 0, \qquad \delta F = J \quad \text{or equivalently} \quad d \star F = \star J.
\end{equation}
The first equation encodes the homogeneous Maxwell equations (Faraday law \& no magnetic monopoles), while the second encodes the inhomogeneous ones (Gauss law \& Ampere-Maxwell law).
The first equation \(dF=0\) implies the 2-form is closed and thus locally exact, i.e. there exists a 1-form $A$ identified with the electromagnetic potential such that
\begin{equation}
    F = dA,\qquad A = A_{\mu} dx^{\mu}.
\end{equation}
Moreover, it automatically implies invariance under gauge transformations $A_\mu\mapsto A_\mu + \partial_\mu a$.
\end{mytheorem}




\begin{mytheorem}[Laplace-de Rham-Hodge-D'Alambert operator\todotag{Finish}]
%
The Hodge--de Rham operator \(\Box\) is defined on all, possibly fiber valued, differential forms as
\begin{equation}
    \Box: \Lambda^\bullet(M) \otimes E_F \to \Lambda^\bullet(M) \otimes E_F, \qquad \Box := d \delta + \delta d \equiv (d + \delta)^2.
\end{equation}
It preserves the degree of forms, but it does \emph{not} satisfy the Leibniz rule in any easy sense.
\smallskip

It satisfies the following properties.
\begin{itemize}
    \item \textbf{Commutations.} $d \,\Box = \Box\, d,\quad \delta\, \Box = \Box\, \delta,\quad \star\, \Box = \Box\, \star$.
    \item \textbf{Self-adjoint wrt Hodge product.} \(\langle \Box \alpha, \beta \rangle_{\mathrm{Hodge}} = \langle \alpha, \Box \beta \rangle_{\mathrm{Hodge}}\).
    In the Riemannian case the Hodge product is positive definite, and $\Box$ is thus diagonalizable by the spectral theorem.
    It has nonpositive spectrum $\text{Spec}(\Box)\subseteq (-\infty,0]$ (cf. below).
\end{itemize}
\smallskip

Depending on the signature of the metric \(g\), it generalizes either the Laplacian (Riemannian case), the D'Alambertian (Lorentzian case) or anything in between (general pseudoriemannian case). 
In the Riemannian case it is an elliptic operator (positive semidefinite), while in the Lorentzian case it is hyperbolic.
This is easily seen in flat Euclidean or Minkowski space, passing to Fourier space
\begin{equation}
    p_E^2 = p_1^2 + p_2^2 + p_3^2 + \cdots \geq 0,\quad p_M^2 = p_0^2 - p_1^2 - p_2^2 - \cdots.
\end{equation}
\smallskip

In\todotag{Check formula} a chart, it acts on a $k$-form $\alpha$ as
\begin{align}
    (\Box \alpha)_{\mu_1 \dots \mu_k} 
    =& - \nabla^{\nu} \nabla_{\nu} \alpha_{\mu_1 \dots \mu_k} + \sum_{i=1}^k (-1)^i R^{\rho}_{\ \mu_i} \alpha_{\mu_1 \dots \mu_{i-1} \rho \mu_{i+1} \dots \mu_k} 
    \\
    &  - 2 \sum_{1\leq i < j \leq k} (-1)^{i+j} R^{\rho}_{\,\mu_i \mu_j}{}^{\sigma} \alpha_{\mu_1 \dots \mu_{i-1} \rho \mu_{i+1} \dots \mu_{j-1} \sigma \mu_{j+1} \dots \mu_k},
\end{align}

In particular, on 0-forms i.e. functions it reduces to the usual Laplace-D'Alambert operator
\begin{equation}
    \Box f =  \nabla^{\nu} \nabla_{\nu} f.
\end{equation}
In fact, the Hodge operator could also  be defined as the \textbf{unique operator of degree $0$ on differential forms that reduces to the usual Laplacian/D'Alambert operator on functions and commutes with both \(d\) and \(\delta\).}
\medskip

The Hodge operator $\Box$ can also be understood as the \textbf{square of the Dirac operator} acting on differential forms, defined as
\begin{equation}
    \slashed{D} := d + \delta.
\end{equation}
Indeed, from nilpotency of $\delta$ and $d$ we have $\slashed{D}^2 = (d + \delta)^2 = d^2 + d \delta + \delta d + \delta^2 = d \delta + \delta d = \Box$.

Finally, its action on 0-forms can be understood as the operator yielding the Euler-Lagrange equations for the action of a free scalar field \(\phi\).
Indeed we have 
\begin{equation}
    S[\phi] =  \int_M\!\! \mathrm{d}^n x\, \sqrt{|g|}\,\tfrac{1}{2} \partial_\mu \phi \partial^\mu \phi\
    = \int_M \tfrac{1}{2}  ||d\phi||^2 \Omega_g = \int_M \tfrac{1}{2} d\phi \wedge \star d\phi 
    = \tfrac{1}{2}\langle d\phi, d\phi \rangle_{\mathrm{Hodge}}.
\end{equation}
Varying with respect to \(\phi\mapsto \phi +\varepsilon\), one finds
\begin{equation}
    \delta S[\phi] = \int_M d \varepsilon \wedge \star d\phi = \int_M \graycancel{d\left(\varepsilon \star d\phi\right)} - \varepsilon\,\, d \star d\phi \quad \Rightarrow \quad d \star d\,\,\phi  = 0.
\end{equation}
Equivalently, more abstractly,
\begin{equation}
    \delta S[\phi] = \delta \left(\tfrac{1}{2}\langle d\phi, d\phi \rangle_{\mathrm{Hodge}}\right)
    = \langle d \phi, d \varepsilon \rangle_{\mathrm{Hodge}}
    = \langle \delta d \phi, \varepsilon \rangle_{\mathrm{Hodge}} \quad \Rightarrow \quad \delta\, d\, \phi = 0.
\end{equation}
Since $\delta \simeq \star d\,\star$ and $\delta \phi=0$ for 0-forms, both expressions ultimately gives equation of motion  $\Box\, \phi = 0$.
%
\end{mytheorem}


%========================================================
\subsection{Spectral geometry} \todotag{To be written}
%=========================================================



%========================================================
\subsection{Closed vs exact forms \& de Rham cohomology} \todotag{To be written}
%=========================================================


\begin{mytheorem}[Closed \& exact forms]
A differential form \(\omega \in \Lambda^k (M)\) is called \textbf{closed} if \(d\omega = 0\).
It is called \textbf{exact} if there exists a \((k-1)\)-form \(\alpha\) such that \(\omega = d\alpha\).
Because \(d^2 = 0\), every exact form is closed.
The converse is not true in general, as we will see when discussing de Rham cohomology.
\end{mytheorem}


\begin{theorem}[Poincaré lemma]
Let \(M\) be a smooth manifold and let \(U \subseteq M\) be a contractible open subset.
Then, every closed differential form \(\omega \in \Lambda^k (U)\) is exact, i.e. there exists a \((k-1)\)-form \(\alpha\) such that \(\omega = d\alpha\).
This theorem has extensions to more general \emph{homotopically trivial} subsets.
\end{theorem}


%-----------------------------------------------------------------------
%======================================================================
\section{Torsion \& equivalence principle}\todotag{To be written}
%========================================================================
%-------------------------------------------------------------------------


\begin{mytheorem}[Torsion measures the nonclosure of parallelograms]\todotag{Insert pic.}
Consider a manifold \(M\) with an affine connection \(\nabla\).
Let \(X,Y\) be two vector fields on \(M\).
Construct the parallelogram starting from a point \(p \in M\) by first following the flow of \(X\) for a parameter distance \(\epsilon\), then the flow of \(Y\) for a parameter distance \(\epsilon\), then the flow of \(-X\) for a parameter distance \(\epsilon\), and finally the flow of \(-Y\) for a parameter distance \(\epsilon\).
Then, the endpoint of this parallelogram differs from the starting point \(p\) by a vector given, at leading order in \(\epsilon\), by
\begin{equation}
    \Delta p = \epsilon^2 T(X,Y) + \mathcal{O}(\epsilon^3),
\end{equation}
where \(T(X,Y)\) is the torsion tensor evaluated on \(X\) and \(Y\).
\end{mytheorem}


\begin{mytheorem}[Why torsion is a tensor?]
The fact that torsion is a tensor, even though the Christoffel symbols are not, follows directly from its geometric definition as measuring the nonclosure of parallelograms.
Alternatively, we could view it from the `physicitsts definition of tensors' and its antisymmetric nature.
Under a change of frame the Christoffel symbols transform as
\begin{equation}
    \Gamma^{\rho}_{\mu \nu} = \frac{\partial x^{\rho}}{\partial x^{\prime \sigma}} \frac{\partial x^{\prime \alpha}}{\partial x^{\mu}} \frac{\partial x^{\prime \beta}}{\partial x^{\nu}} \Gamma^{\prime \sigma}_{\alpha \beta} + \frac{\partial x^{\rho}}{\partial x^{\prime \sigma}} \frac{\partial^2 x^{\prime \sigma}}{\partial x^{\mu} \partial x^{\nu}}.
\end{equation}
The nontensorial part of the transformation is symmetric in the lower indices \(\mu, \nu\).
Therefore by splitting
\begin{equation}
    \Gamma^{\rho}_{\mu \nu} = \Gamma^{\rho}_{(\mu \nu)} + \Gamma^{\rho}_{[\mu \nu]},
\end{equation}
we see that indeed $T_{\mu,\nu}^{\quad \rho} = 2 \Gamma^{\rho}_{[\mu \nu]}$ transforms as a tensor.
\end{mytheorem}


\begin{mytheorem}[Torsion \& the equivalence principle]
The equivalence principle is \emph{completely equivalent} to the vanishing of torsion.
Indeed, the equivalence principle states that at any point there exists a \emph{local freely falling frame}, i.e. a frame where the Christoffel symbols vanish at that point.
Physically, we demand the geodesic equation reduce to a straight line
\begin{align}
    \nabla_{\dot{x}}\dot{x} = \frac{d^2 x^{\sigma}}{d \lambda^2} + \Gamma^{\sigma}_{\mu \nu} \frac{d x^{\mu}}{d \lambda} \frac{d x^{\nu}}{d \lambda} = 0
    \quad \xrightarrow[\text{local free fall at $p$}]{} \quad
    \frac{d^2 x^{\sigma}}{d \lambda^2}_{\mid p} = 0.
\end{align} 
Imposing this holds for any choice of initial velocity \(\frac{d x^{\mu}}{d \lambda}_{\mid p}\) implies the symmetric part $\Gamma_{(\mu\nu)}^\sigma=0$ at \(p\).

Note that this seems to leave room for torsion--i.e. for nonvanishing antisymmetric part $\Gamma_{[\mu\nu]}^\sigma$.
However, the equivalence principle actually demands \emph{any} mechanical experiment reduce to the special relativistic one in such local freely falling frames.
In particular, it requires that in absence of forces the angular momentum $L$ of spinning bodies stays constant, i.e. it is parallely transported via the connection.
That is 
\begin{align}
    \nabla_{\dot{x}}L = \frac{d L^\sigma}{d \lambda} + \Gamma^{\sigma}_{\mu \nu} \frac{d x^\mu}{d \lambda} L^\nu = 0
    \quad \xrightarrow[\text{local free fall at $p$}]{} \quad
    \frac{d L^\sigma}{d \lambda}_{\mid p} = 0.
\end{align}
Since both vectors $L=L^\sigma \partial_\sigma$ and $x=x^\sigma \partial_\sigma$ are arbitrary at \(p\), all of $\Gamma_{\mu\nu}^\sigma$ must vanish at \(p\).

In fact, as we mentioned, the vanishing ot torsion not only is needed, but is completely \emph{equivalent} to the existence of such local freely falling frames as we next show.
\end{mytheorem}


\begin{theorem}
Let \(M\) be a manifold with an affine connection \(\nabla\).
Then, the torsion of \(\nabla\) vanishes if and only if for any point \(p \in M\) there exists a local coordinate system \(\{x^{\mu}\}\) around \(p\) such that the connection coefficients vanish \(\Gamma^{\rho}_{\mu \nu} (p) = 0\) at $p$.
\end{theorem}
\begin{proof}
The torsion is a tensor, so if it vanishes in one frame it vanishes in all frames and is thus zero.
Conversely, Riemann normal coordinates--i.e. coordinates obtained via the exponential map at \(p\)--always exist and by construction they are such that the symmetric part $\Gamma^{\rho}_{(\mu \nu)}(p)=0$ vanishes at this point.
Indeed, in such cohordinates stratight lines $\lambda\mapsto \exp(\lambda v)$ are mapped to geodesics through $p$ in $M$ 
\begin{equation}
    \graycancel{\frac{d^2}{d \lambda^2} (\lambda v^\sigma)}+ \Gamma^{\sigma}_{\mu \nu} v^\mu v^\nu = 0.
\end{equation}
Since $v\in T_pM$ is arbitrary, this implies $\Gamma^{\sigma}_{(\mu \nu)}(p)=0$.
\end{proof}


\begin{mytheorem}[Quantum gravity \& allowing for nonzero torsion]
If we want to quantize gravity, it is wise and natural to allow for some nonzero torsion.
Indeed, in quantum mechanics all quantities are subject to quantum fluctuations.
Therefore, if the metric is quantum fluctuating, it might well be the case that it explores also configurations with nonzero torsion.

In fact, we have several examples where quantum fuctuations violate classical constraints.
An example is quantum tunnelling, where  particles can cross classically forbidden regions.
Another one is the nonvanishing of correlators between spacelike separated operators in quantum field theory, violating classical causality.
In this second case, the `rules' of classical general relativity are restored by the fact that these acausal correlators are exponentially suppressed at scales larger than the Compton wavelength of the particles involved.
Furthermore, the analogous contributions from particles and antiparticles cancel each other in the actually observable correlator.
\end{mytheorem}


\begin{mytheorem}[The Levi-Civita torsion-fixed metric connection.]
Given a pseudoriemannian manifold \((M,g)\) and a $(1,2)$-tensor $T$ antisymmetric in the lower indices, there exists a unique connection \(\nabla\) that is metric-compatible and has torsion \(T\), i.e. 
\begin{equation}
    \nabla g = 0,  \qquad T_\nabla(X,Y):=\nabla_XY-\nabla_YX-[X,Y]\equiv T(X,Y).
\end{equation}
The (anti)-symmetric parts $\Gamma_{\mu\nu}^\rho=\Gamma^\rho_{(\mu\nu)}+\Gamma^\rho_{[\mu\nu]}$ of the Christoffel symbols are uniquely determined by 
\begin{equation}\label{eq:levi_civita_christoffel_symbols}
    \Gamma^\rho_{(\mu\nu)}= \frac{1}{2} g^{\rho \sigma} \left( \partial_{\mu} g_{\nu \sigma} + \partial_{\nu} g_{\mu \sigma} - \partial_{\sigma} g_{\mu \nu} \right), \qquad 
    \Gamma^\rho_{[\mu\nu]}= T_{\mu \nu}^{\rho}.
\end{equation}
%
The \textbf{contraction of the (symmetrized) Christoffel symbols} of the Levi-Civita connection satisfy the identity
\begin{equation}\label{eq:metric_christoffel_contraction_identity}
    \Gamma^{\mu}_{(\mu \nu)} = \frac{1}{\sqrt{|g|}} \partial_{\nu} \sqrt{|g|}.
\end{equation}   
\end{mytheorem}
\begin{proof}
From the Levi-Civita formula \eqref{eq:levi_civita_christoffel_symbols} we have
\begin{equation}
    \Gamma^{\mu}_{(\mu \nu)} = \frac{1}{2} g^{\mu \sigma} \left( \partial_{\mu} g_{\nu \sigma} + \partial_{\nu} g_{\mu \sigma} - \partial_{\sigma} g_{\mu \nu} \right)
    = \frac{1}{2} g^{\mu \sigma} \partial_{\nu} g_{\mu \sigma} + \underbrace{\frac{1}{2} g^{\mu \sigma} \left( \partial_{\mu} g_{\nu \sigma} - \partial_{\sigma} g_{\mu \nu} \right)}_{=0},
\end{equation}
where two terms cancel due to the symmetry of \(g^{\mu \sigma}\) and dummy indices.
Differentiating the determinant of the metric, 
\begin{align}
\begin{aligned}
    \partial_{\nu} \sqrt{|g|} &= \frac{1}{2 \sqrt{|g|}} \text{sign}(g) \det(g_{\mu \nu}) \, \text{Tr}\big(g^{\alpha \beta} \partial_{\nu} g_{\beta \gamma}\big)
    = \frac{1}{2} \sqrt{|g|}\,\, g^{\alpha \beta} \partial_{\nu} g_{\beta \alpha}
    = \sqrt{|g|} \,\,\Gamma^{\mu}_{(\mu \nu)}.
\end{aligned}
\end{align}
\end{proof}


\begin{mytheorem}[Interpretation of the Christoffel symbols]
In view of what discssed above, we can interpret the Christoffel symbols and their derivatives as follows.
\begin{itemize}
    \item The antisymmetric part of the Christoffel symbols-- the torsion--measures the presence of fifth forces fields that violate the equivalence principle i.e. beyond standard gravity.
    Indeed, we showed that nonzero torsion is equivalent to the impossibility of finding a local freely falling frame.
    This antisymmetric part can \emph{not} be absorbed into (the symmetric part of) the energy-momentum tensor, since this must indeed match the \emph{symmetric} Einstein tensor.
    The presence of torsion thus genuinely corresponds to `extra forces' beyond standard gravity.
    %
    \item The symmetric part of the Christoffel symbols corresponds to `standard pseudoforces', like Coriolis force, that can be eliminated by going to a freely falling frame.
    Notably, the choice of what to attribute to gravity and what to inertial forces is \emph{conventional} and depends on the choice of connection.
    Indeed, the difference of two connections $\nabla,\tilde{\nabla}$ is indeed a $(1,2)$-tensor since Christoffel symbols transform as
    \begin{align}
        \Gamma^{\rho}_{\mu \nu}- \tilde{\Gamma}^{\rho}_{\mu \nu} = \frac{\partial x^{\rho}}{\partial x^{\prime \sigma}} \frac{\partial x^{\prime \alpha}}{\partial x^{\mu}} \frac{\partial x^{\prime \beta}}{\partial x^{\nu}} \left(\Gamma^{\prime \sigma}_{\alpha \beta}-\tilde{\Gamma}^{\prime \sigma}_{\alpha \beta}\right) + \graycancel{ \frac{\partial x^{\rho}}{\partial x^{\prime \sigma}} \frac{\partial^2 x^{\prime \sigma}}{\partial x^{\mu} \partial x^{\nu}}}.
    \end{align}
    If both of them are symmetric in the lower indices, their difference is also symmetric and can thus be interpreted as a field contributing to the energy-momentum tensor at the right
    %
    \item Finally, the derivatives of the Christoffel symbols measure curvature, that is tidal forces that cannot be eliminated even when going to a freely falling frame.
    Indeed, a freely falling frame is `exactly freely falling' only at a single point, but as soon as we depart from it infinitesimal tidal forces start to act.
    Curvature--i.e. essentially the Riemann tensor $R\sim \partial \Gamma$--therefore measures how much nearby freely falling frames deviate from each other.
\end{itemize}
\end{mytheorem}


%-----------------------------------------------------------------------
%======================================================================
\section{Curvature}\todotag{To be written}
%========================================================================
%---------------------------------------------------------------------------


%======================================================================
\subsection{What even is curvature? How to quantize it?}\todotag{To be written}
%========================================================================


\begin{mytheorem}[How to measure curvature? How to quantize garvity?]
What is curvature? How do we even measure it? Intuitively, curvature is how much a space deviates from being flat.
Here are some ways to quantify this. 
In order to quantize gravity--i.e. curvature--it will be useful to have several notions of curvature at hand, since we do not know yet which one will be the most useful in a quantum theory of gravity and what object will have to be quantized.
\begin{enumerate}
\item \textbf{Violation of angle sum laws.}  For a triangle with angles \(\alpha,\beta,\gamma\) one has
\[
\alpha + \beta + \gamma \neq 180^\circ.
\]
Such a deficit angle can be used to encode the shape. This notion of curvature thus ultimately boils down to \emph{measuring angles and possibly quantize them}. (This idea is ideed used in some approaches to quantum gravity.)
%
\item \textbf{Violation of Pythagoras' law.}  For a triangle with side lengths \(a,b,c\) one has
\[
a^2 + b^2 \neq c^2.
\]
In this case we \emph{encode the shape through metric distances}--i.e. via a Riemannian metric \(g\) on \(M\)--and we might \emph{quantize the metric} $g$ itself (as in canonical quantum gravity) or some functionals of it (as in loop quantum gravity).
%
\item \textbf{Tensorial definiton: Riemann curvature tensor or Gaussian curvature.} This is an umbrella term for the most common notion of curvature, where this is encoded in suitable tensors.
The most common is the Riemann tensor $R$, but we might equivalently define it via other \emph{equivalent} tensorial means like the sectional curvature.
We would then quantize a suitable expression of these?
%
\item \textbf{Nontrivial parallel transport around loops.}  A vector transported around a closed loop generally does not return to itself.  One can therefore encode the shape through an affine connection \(\Gamma\) on \(M\), which we might then quantize somehow.
%
\item \textbf{Green functions of quantum fields.} Namely, n-point correlators of quantum fields do know about the geometry of the underlying manifold.
For example, the 2-point function of a free scalar field theory on a curved manifold \((M,g)\) satisfies
\begin{equation}
    (\Box_x + m^2) G(x,y) = - \frac{1}{\sqrt{|g|}} \delta^{(n)} (x-y),
\end{equation}
where \(\Box\) is the D'Alambert operator associated to the metric \(g\).
From the knowledge of the Green function \(G(x,y)\) for all pairs of points \((x,y) \in M \times M\), one might try to reconstruct the metric \(g\) and thus the curvature of the manifold. 
In doing so, quantization conditions on $g$ might emerge naturally from the quantum nature of the field theory itself.
%
\item \textbf{Spectral geometry.} The idea is that the spectrum of differential operators defined on a manifold \((M,g)\) encodes the geometry of the manifold itself.
For example, the eigenvalues of the Laplace-D'Alambert operator \(\Box\) depend on the metric \(g\) and thus on the curvature of \((M,g)\).
One might then try to quantize gravity by quantizing the spectrum of such operators. (cf. relevant section) 
\end{enumerate}
\end{mytheorem}



\begin{mytheorem}[Sectional curvature]\todotag{Finish.}
Sectional curvature is the simplest and most familiar notion of curvature one can define on a Riemannian manifold \((M,g)\).
Given a point \(p \in M\) and a 2-dimensional subspace \(\sigma \subseteq T_p M\) of the tangent space at \(p\), the sectional curvature \(K(\sigma)\) is defined in various equivalent ways.
\begin{itemize}
    \item \textbf{Gauss curvature.}  It is defined as the Gaussian curvature of the surface obtained by exponentiating \(\sigma\) via the exponential map at \(p\).
    Namely, given the surface $S = \{\exp_p (v) \,|\, v \in \sigma \}$, we set
    \begin{equation}
        K(\sigma) := K_{Gauss} (S).
    \end{equation}
    \item \textbf{Riemann tensor.}  We define
    \begin{equation}
        K(\sigma) := \frac{R(u,v,v,u)}{||u||^2 ||v||^2 - (g(u,v))^2},
    \end{equation}
    where \(\{u,v\}\) is any basis of \(\sigma\).
\end{itemize}
\end{mytheorem}




%=======================================================
\subsection{The Riemann curvature tensor}
%=======================================================

The Riemann curvature tensor is defined as the operator measuring the noncommutativity of covariant derivatives.

\begin{mytheorem}[Ricci identity: the Riemann tensor measures noncommutativity of parallel transport in two directions]\todotag{finish}
If we neglect torsion the path obtained by first following the flow of a vector field \(X\) for infinitesimal distance \(\epsilon\), then the flow of a vector field \(Y\) for infinitesimal distance \(\epsilon\), then the flow of \(-X\) for infinitesimal distance \(\epsilon\), and finally the flow of \(-Y\) for infinitesimal distance \(\epsilon\), closes to leading order in \(\epsilon\).
In presence of torsion, the parallelogram does not close, but the Riemann tensor retains its meaning as measuring the noncommutativity of covariant derivatives.
\end{mytheorem}

\begin{mytheorem}[The Riemann tensor is just a rotation matrix in disguise\todotag{Finish}]
For the sake of the interpretation, assume torsion vanishes, everything holds even if not.
For fixed $X,Y\in \mathfrak{X}(M)$, the Riemann curvature tensor \(R(X,Y)\) is a linear map
\begin{equation}
    R(X,Y): T_p M \to T_p M \quad \mid Z\mapsto R(X,Y)Z,
\end{equation}
that returns the vector obtained by parallel transporting \(Z\) infinitesimally first in the $X$ direction and then in the $Y$ direction, and subtracting the vector obtained by doing the same but first in the $Y$ direction and then in the $X$ direction.
This is nothing but an infinitesimal rotation of the vector \(Z\) around the infinitesimal parallelogram spanned by \(X\) and \(Y\).
The same interpretation holds in presence of torsion, but the parallelogram does not close anymore and we have to correct for that.
In this sense, at fixed $X$ and $Y$ the Riemann tensor is just a rotation matrix in disguise.
%
\end{mytheorem}




\begin{mytheorem}[Symmetries of the Riemann tensor\todotag{Finish}]
The Riemann curvature tensor \(R\) has the following symmetries.
\begin{itemize}
    \item \textbf{Antisymmetry in last two indices} (no need metric, even if torsion is present):
    \begin{equation}
        R(X,Y)(\cdot) = - R(Y,X)(\cdot) \quad \Longrightarrow \quad
        R^\alpha_{\,\beta,\, \mu\nu} = - R^\alpha_{\,\beta,\, \nu\mu}.
    \end{equation}
    \item \textbf{Antisymmetry in first two lowered indices} (if metric compatible, \emph{even} if torsion is present):
    \begin{equation}
        g(R(X,Y)Z,W) = - g(R(X,Y)W,Z) \quad \Longrightarrow \quad
        R_{\alpha \beta,\, \mu\nu} = - R_{\beta \alpha,\, \mu\nu}.
    \end{equation}
    \item \textbf{Symmetry under exchange of pairs of indices} (if metric compatible) \todotag{not sure if torsion is present}
    \begin{equation}
        R_{\alpha \beta,\, \mu\nu} = R_{\mu \nu,\, \alpha \beta}.
    \end{equation}
    \item \textbf{First Bianchi identity}
    \begin{align}
        R(X,Y)Z& + R(Y,Z)X + R(Z,X)Y = \nabla_X T(Y,Z) + \nabla_Y T(Z,X) + \nabla_Z T(X,Y) \\
        & + T(T(X,Y),Z) + T(T(Y,Z),X) + T(T(Z,X),Y).
    \end{align}
    In components, this reads
    \begin{equation}       
        R^\alpha_{\,\beta,\, \mu\nu} + R^\alpha_{\,\mu,\, \nu\beta} + R^\alpha_{\,\nu,\, \beta\mu} = \dots
    \end{equation}
    \item \textbf{Second Bianchi identity}
    \begin{equation}
        \nabla_X R(Y,Z) + \nabla_Y R(Z,X) + \nabla_Z R(X,Y) = \dots
    \end{equation}
    In components, this reads
    \begin{equation}
        \nabla_\lambda R^\alpha_{\,\beta,\, \mu\nu} + \nabla_\mu R^\alpha_{\,\beta,\, \nu\lambda} + \nabla_\nu R^\alpha_{\,\beta,\, \lambda\mu} = \dots
    \end{equation}
\end{itemize}
    
\end{mytheorem}
\begin{proof}
The first identity just follows from the definition of the Riemann tensor 
\begin{align}
    R(X,Y) &= \nabla_X \nabla_Y - \nabla_Y \nabla_X - \nabla_{[X,Y]} \\
    & = - \left( \nabla_Y \nabla_X - \nabla_X \nabla_Y - \nabla_{[Y,X]} \right) = - R(Y,X).
\end{align}
The second follow from metric compatibility
\begin{align}
    \nabla g=0 &\Rightarrow X \big( g(Z,W) \big) = \graycancel{(\nabla_X g)(Z,W)}+ g(\nabla_X Z, W) + g(Z, \nabla_X W).
\end{align}
Then 
\begin{align}
    g(R(X,Y)Z,W) &= g(\nabla_X \nabla_Y Z, W) - g(\nabla_Y \nabla_X Z, W) - g(\nabla_{[X,Y]} Z, W)
    \\
    & = X \big( g(\nabla_Y Z, W) \big) - Y \big( g(\nabla_X Z, W) \big) - [X,Y]( g(Z, W)) \\
    & - g(\nabla_Y Z, \nabla_X W) + g(\nabla_X Z, \nabla_Y W) + g(Z, \nabla_{[X,Y]} W) \\
    & = \dots
\end{align}

\end{proof}












%-----------------------------------------------------------
%=======================================================
\section{Tetrad formalism \& tensor-valued forms}\todotag{To be written}
%=======================================================
%------------------------------------------------------------

The tetrad formalism amount to allowing arbitrary frames for the tangent $\{e_i(x)\}_i$ and cotangent  $\{\theta^i(x)\}_i$ bundles, not necessarily induced by a coordinate system.
The only typical requirement is that the two frame are dual to each other, i.e. $\theta^i (e_j) = \delta^i_j$.
In the literature, tetrads are also called \emph{vierbeins} (4-legs) in 4 dimensions or more generally \emph{vielbeins} (n-legs) in n dimensions.


\begin{mytheorem}[Avantages \& disadvantages of the tetrad formalism]
The main advantage of the tetrad formalism is that coefficients of tensors in arbitrary frames transform as scalars under coordinate transformations.
That is, their coordinates with respect to the tetrad bases do not change under change of coordinates, simply because we change the cohordinates $x^\mu\to \tilde{x}^\mu$ but the tetrad bases $\{e_i(x)\}_i$, $\{\theta^i(x)\}_i$ remain the same.
The main disadvantage is that expressions might get longer or more cumbersome, since we cannot use the simplifications coming from coordinate bases e.g. the fact that $d (dx^\mu) = 0$ or $[\partial_\mu, \partial_\nu] = 0$.

In any case, this has several advtanges.
For example, we can choose a tetrad that is orthonormal with respect to a given metric $g$ i.e.
\begin{equation}
    g = \eta_{ij} \theta^i \otimes \theta^j,
\end{equation}
where $\eta_{ij}=\text{diag}(\pm1\dots \pm1)$ is the Minkowski (or Euclidean) metric.
This is particularly useful for spinors.
By definition, in any chosen frame, the $\gamma$ matrices are required to respect the Clifford algebra
\begin{equation}
    \{\gamma^\mu, \gamma^\nu\} = 2 g_{\mu\nu} \mathbb{I}.
\end{equation}
In the such a orthonormal frame, this reduces to $\{\gamma^\mu, \gamma^\nu\} = 2 \eta_{\mu\nu} \mathbb{I}$ and we can take the $\gamma^\mu$ as in the usual Clifford algebra in flat space all over the manifold.
\end{mytheorem}


\begin{mytheorem}[Fiber valued differential forms]
Fiber valued differential forms are just usual $p$-forms taking values in a fiber space $F$.
That is, given a fibre bundle $E_F\to M$ with fibre $F$, a fiber valued $p$-form is a section of the product bundle
\begin{equation}
    \Lambda^p (M) \otimes E_F \to M.
\end{equation}
Given a local frame $\{f_a\}_a$ for the fiber bundle $E_F \to M$, any fiber valued $p$-form $\alpha \in \Lambda^p (M) \otimes E_F$ can be locally written as
\begin{equation}
    \alpha = \alpha^a \otimes f_a,
\end{equation}
where $\alpha^a \in \Lambda^p (M)$ are ordinary differential $p$-forms.
\smallskip

For example, when $E_F = T^h_kM$ is the bundle of $(h,k)$-tensors we have tensor-valued differential forms.
This notion generalizes all the structures we have seen so far.
\begin{itemize}
    \item Ordinary differential $p$-form are just fiber valued $p$-form with trivial fiber $F = \mathbb{R}$.
    \item An $(h,k)$-tensor field is just a fiber valued $0$-form with fiber $F = T^h_k M$.
\end{itemize}

In fact, since $\Lambda*(M)\subset T^*_*(M)$ the splitting in `differntial form part' and `tensor valued image' is somewhat arbitrary.
The most natural convention is to take all the antisymmetric part as the differential form part and the rest as the tensor valued image.
For example
\begin{itemize}
    \item The torsion $T_{\mu\nu}^{\quad \rho}$, antisymmetric in the $\mu\nu$ indices, is a $(1,0)$-tensor valued 2-form, i.e. a fiber valued 2-form with fiber $F = T^1_0 M$.
    \item The Riemann curvature $R_{\rho, \mu \nu}^{\quad \sigma}$, antisymmetric in the $\mu\nu$ indices, is a $(1,1)$-tensor valued 2-form, i.e. a fiber valued 2-form with fiber $F = T^1_1 M$.
\end{itemize}
\end{mytheorem}


\begin{mytheorem}[Exterior covariant derivative]
Given a fiber bundle $E_F \to M$ with fiber $F$ and a connection $\nabla$ on this bundle with connection 1-forms $\omega^b_a$, we define the exterior covariant derivative $d_\nabla$ acting on fiber valued $p$-forms as the unique map
\begin{equation}
    d_\nabla: \Lambda^\bullet (M) \otimes E_F \to \Lambda^{\bullet+1} (M) \otimes E_F
\end{equation}
that is linear, satisfies the Leibniz rule
\begin{equation}
    d_\nabla(\alpha \wedge \beta) = (d_\nabla \alpha) \wedge \beta + (-1)^p \alpha \wedge (d_\nabla \beta),\qquad \alpha \in \Lambda^p (M) \otimes E_F, \beta \in \Lambda^q (M) \otimes E_F,
\end{equation}
and reduces to the usual covariant derivative $\nabla$ when acting on fiber valued $0$-forms and the usual exterior derivative $d$ when acting on ordinary differential forms i.e. fiber valued forms with trivial fiber $F = \mathbb{R}$.

Concretely, given a local frame $\{f_a\}_a$ for the fiber bundle $E_F \to M$, any fiber valued $p$-form $\alpha \in \Lambda^p (M) \otimes E_F$ can be locally written as
\begin{equation}
    \alpha = f_a\otimes \alpha^a,
\end{equation}
The condition that $d_\nabla$ reduces to $\nabla$ on fiber valued $0$-forms implies and to the usual exterior derivative on forms with trivial fiber $F = \mathbb{R}$ then implies that the exterior covariant derivative acts as
\begin{equation}
    d_\nabla \alpha = \nabla f_a \wedge \alpha^a + f_a \otimes d \alpha^a  
    = f_a\otimes\left( \omega^a_{b} \wedge \alpha^b + d \alpha^a \right),
\end{equation}
where note that $f_a$ is a fiber valued $0$-form and $\nabla f_a$ is a fiber valued $1$-form via $T^1_0M\ni X \mapsto \nabla_X f_a \in F$.
\end{mytheorem}


%===============================================================================
\subsection{Curvature forms \& Cartan structure equations}\todotag{To be written}
%================================================================================


\begin{mytheorem}[Structure constants of a tetrad frame]
Given a frame $\{\theta^i\}_i$ for the cotangent bundle, we can define its structure constants $C^i_{\, jk}$ as the coefficients in the expansion
\begin{equation}
    d \theta^i = - \frac{1}{2} C^i_{jk} \theta^j \wedge \theta^k.
\end{equation}
The structure constants measure the nonclosure of infinitesimal parallelograms constructed using the tetrad basis vector fields $\{e_i\}_i$ dual to $\{\theta^i\}_i$.
Indeed, one can equivalently define $C^i_{jk}$ as the commutator coefficients
\begin{equation}
    [e_j, e_k] = C^i_{jk} e_i.
\end{equation}
By construction, the structure constants are antisymmetric in the lower indices $C^i_{jk} = - C^i_{kj}$.
If the tetrad is induced by a coordinate system $\theta^\mu=dx^\mu,\,e_\nu=\frac{\partial}{\partial x^\nu}$, then the structure constants vanish identically.
\end{mytheorem}


\begin{mytheorem}[Connection 1-form]
Given an affine connection $\nabla$ on a manifold $M$ and a tetrad frame $\{\theta^i\}_i$, we define the $(1,0)$-tensor-valued connection 1-forms $\omega_j$ and $\R$-valued connection 1-forms $\omega^i_{\,j}$ as the set of 1-forms satisfying
\begin{equation}
     \nabla e_j=:\omega_j =:\omega^i_{\,j} \otimes e_i\,.
\end{equation}
In particular, the covariant derivative of a vector field $X = X^i e_i$ reads
\begin{equation}
    \nabla X = (dX^i + \omega^i_{\, j}\,\, X^j) \otimes e_i.
\end{equation}
Under a change of tetrad frame $\{\theta^i,\, e_i\}_i \to \{\tilde{\theta}^i = A^i_{\, j} \theta^j,\,\tilde{e}_i = (A^{-1})^k_{\, i} e_k\}_i$, the connection 1-forms transform as
\begin{equation}
    \tilde{\omega}^i_{\, j} = (A^{-1})^i_{\, k}\,\, \omega^k_{\, l} \,\,A^l_{\, j} + (A^{-1})^i_{\, k} \,\,d A^k_{\, j}.
\end{equation}


Just like the other forms, the connection 1-form can be seen as a fiber valued differential form.
The fiber is the Lie algebra of the structure group of the frame bundle, i.e. $\mathfrak{gl}(n,\R)$ for a general connectin, and $\mathfrak{so}(p,q)$ for an orthonormal frame of metric connection with signature $(p,q)$.
Indeed, for an orthonormal tetrad $\{e_\mu\}_\mu$, metric compatibility $\nabla g=0$ implies
\begin{align}
    0 = \nabla_\bullet \eta_{\mu\nu} &= \nabla_\bullet g(e_\mu, e_\nu) = g(\nabla_\bullet e_\mu, e_\nu) + g(e_\mu, \nabla_\bullet e_\nu) = g(\omega_\mu^\rho e_\rho, e_\nu) + g(e_\mu, \omega_\nu^\sigma e_\sigma) = \omega_{\mu \nu} + \omega_{\nu \mu}.
\end{align}
Lowering the indices of the connection form with the metric we thus get an antisymmetric form $\omega_{\mu\nu} = - \omega_{\nu\mu}$, which is the hallmark of the Lie algebra $\mathfrak{so}(p,q)$.
If $G\subseteq GL(T_pM) \equiv GL(n,\R)$ is the subgroup preserving the metric $g_p$ at point $p\in M$, the connection 1-form then takes values in the Lie algebra $\mathfrak{g}$ of $G$.
Namely, for any curve $t\mapsto A(t)\sim\mathbb{I}+t\omega \in G\subseteq GL(T_pM)$
\begin{align}
    g_{\rho\sigma}A^\rho_\mu A^\sigma_\nu = g_{\mu\nu}
    &\Rightarrow 0 = \frac{d}{dt} \Big|_{t=0} \left( g_{\rho\sigma}A^\rho_\mu(t) A^\sigma_\nu(t) \right) = g_{\rho\sigma} \left( \frac{d}{dt} \Big|_{t=0} A^\rho_\mu(t) \right) \delta^\sigma_\nu + g_{\rho\sigma} \delta^\rho_\mu \left( \frac{d}{dt} \Big|_{t=0} A^\sigma_\nu(t) \right) \\
    &\Rightarrow g_{\rho\nu} \omega^\rho_\mu + g_{\mu\sigma} \omega^\sigma_\nu = 0.
\end{align}
%
This was indeed expected: the connection ultimately yields the infinitesimal change of a vector under parallel transport, which preserves angles and lengths by definition.
The change of a vector can thus only be an infinitesimal `generalized rotation' in the tangent space, i.e. an element of the Lie algebra of the orthogonal group of $g_p$, which is $SO(p,q)$ in a suitable basis.
That is, for $\epsilon \mapsto X(\epsilon)$ a parallelly transported vector along a curve $\epsilon \mapsto \gamma(\epsilon)$,
\begin{align}
    X(\epsilon) &= X(0) + \epsilon\, \nabla_{\dot{\gamma}(0)}\, X + O(\epsilon^2) \\
    &= X(0) + \epsilon\,\, \omega(\dot{\gamma}(0))\, X(0) + O(\epsilon^2) \\
    & = \left( \mathbb{I} + \epsilon \omega(\dot{\gamma}(0)) \right) X(0) + O(\epsilon^2).
\end{align}

This tells us how the connection $\nabla$ should act on a general fiber bundle $E_F\to M$ with structure group $G$: via the representation of the Lie algebra $\mathfrak{g}$ on the fiber $F$.
Namely, if $E_F \to M$ is associated to the frame bundle via a representation $\rho: G \to GL(F)$, the connection 1-form on $E_F \to M$ will be given by
\begin{equation}
    \omega^a_{\, b} = \rho_*(\omega^i_{\, j}),
\end{equation}
where $\rho_*: \mathfrak{g} \to \mathfrak{gl}(F)$ is the induced Lie algebra representation.
For example, for the tensor bundle $T^h_kM \to M$ the representation is the tensor product of $h$ copies of the given representation on $T_pM$ and $k$ copies of the dual representation of $G$.
%
For spinors, it is the spin representation of the spin group $\text{Spin}(p,q)$, that is the double cover of $SO(p,q)$.
If $\omega_{\mu\nu}$ is are the connection 1-forms of the connection on $TM$ in a given tetrad frame, and 
$\{\gamma^a\}_a$ are the gamma matrices in a given representation with basis $s_1\dots s_m$ of the spinor space, the spin representation $\rho_{spin}: \mathfrak{so}(p,q) \to \mathfrak{gl}(\C^m)$ is given by
\begin{equation}
    \omega^{\text{sp.}\, b}_{~a}:=\rho_{spin}(\omega_{\mu\nu})^b_{\,a} := \frac{1}{4} \omega_{\mu\nu} \,\{\gamma^\mu, \gamma^\nu\}^b_{\,a}.
\end{equation}
The connection 1-form act on basis spinors as 
\begin{equation}
    \nabla s_a = \omega^{\text{sp.}\, b}_{~ a}{} s_b = \tfrac{1}{4}\omega_{\mu\nu}\,[\gamma^\mu, \gamma^\nu]^b_{\,a} s_b,
\end{equation}
and on general spinor fields $\psi = \psi^a s_a$ as
\begin{equation}
    \nabla \psi = d \psi^a \otimes s_a + \psi^a \, \nabla s_a = \left( d \psi^b + \tfrac{1}{4} \omega_{\mu\nu}\, [\gamma^\mu, \gamma^\nu]^b_{\,a} \, \psi^a \right) \otimes s_b,\,\,\quad \text{i.e.} \quad
    \nabla_\mu \psi^b = \partial_\mu \psi^b + \tfrac{1}{4} \omega_{\mu\nu}\, [\gamma^\mu, \gamma^\nu]^b_{\,a} \, \psi^a.
\end{equation}
%
\end{mytheorem}


\begin{mytheorem}[Curvature 2-form]
Given an affine connection $\nabla$ on a manifold $M$ and a tetrad frame $\{\theta^i\}_i$, we define the $(1,0)$-tensor-valued curvature 2-forms $\Omega_j$ and $\R$-valued curvature 2-forms $\Omega^i_{\,j}$ as the set of 1-forms satisfying
\begin{equation}
    R(e_j) :=\Omega_j=: \Omega^i_{j} \otimes e_i\,,
\end{equation}
where $R$ is the Riemann curvature operator.
In particular, the Riemann curvature operator acting on a vector field $X = X^j e_j$ reads
\begin{equation}
    R(X) =  X^j\,\, \Omega^i_{\,j}\otimes e_i.
\end{equation}
\end{mytheorem}


\begin{mytheorem}[Cartan structure equations]\todotag{finish}
Given a tetrad frame $\{\theta^i,\, e_i\}_i$, consider the $(1,0)$ tensor valued 1-form $\theta := \theta^i \otimes e_i.$
The connection 1-forms, and the torsion and curvature 2-forms satisfy the Cartan structure equations, expressed concisely in terms of the exterior covariant derivative $d_\nabla$ as
\begin{align}
    T &= d_\nabla \theta = e_i \otimes \left(d \theta^i + \omega^i_{\, j} \wedge \theta^j \right) 
    \quad \text{i.e.} \quad T^i = d \theta^i + \omega^i_{\, j} \wedge \theta^j,
    \\
    \Omega_{\, j} &= d_\nabla \omega_{\, j} = e_i \otimes \left(d \omega^i_{\, j} + \omega^i_{\,k} \wedge \omega^k_{\, j}\right) 
    \quad\text{i.e.} \quad \Omega^i_{\, j} = d \omega^i_{\, j} + \omega^i_{\, k} \wedge \omega^k_{\, j}.
\end{align}
In particular, in absence of torsion the first Cartan structure equation reduces to
\begin{equation}
    d \theta^i + \omega^i_{\, j} \wedge \theta^j = 0.
\end{equation}
\end{mytheorem}
\begin{proof}
The second equalities follows since the exterior covariant derivative indeed acts as
\begin{align}
    d_\nabla \theta &= d_\nabla (e_i \otimes \theta^i) = e_i\otimes d \theta^i  +  \nabla e_i \wedge \theta^i = e_i\otimes (d \theta^i + \omega^i_{\, j} \wedge \theta^j) ,
    \\
    d_\nabla \omega_{\, j} &= d_\nabla (e_i\otimes \omega^i_{\, j} ) = e_i\otimes d \omega^i_{\, j}  + \nabla e_i \wedge \omega^i_{\, j} = e_i\otimes (d \omega^i_{\, j} + \omega^i_{\, k} \wedge \omega^k_{\, j}).
\end{align}
In turn, the first equalities are easily verified by direct computation using a coordinate frame $\{\theta^\mu=dx^\mu,\, e_\nu=\partial_{x^\nu}\}_\nu$, using the known expressions $T\sim \Gamma - \Gamma^T$ and $R\sim \partial \Gamma + \Gamma \Gamma$ for the torsion and Riemann tensor and the relations
\begin{align}
    \theta^\rho = dx^\rho,\quad d\theta^\rho = 0,\quad
    \omega^\rho_{\, \nu} = \Gamma^\rho_{\mu \nu} dx^\mu,
    \quad
    d \omega^\rho_{\, \nu} = \partial_\sigma \Gamma^\rho_{\mu \nu} dx^\sigma \wedge dx^\mu,
    \quad
    \omega^\rho_{\, \sigma} \wedge \omega^\sigma_{\, \nu} = \Gamma^\rho_{\mu \sigma} \Gamma^\sigma_{\lambda \nu} dx^\mu \wedge dx^\lambda.
\end{align}
%
\end{proof}


\begin{mytheorem}[Bianchi identities revisited]\todotag{finish}
The Bianchi identities can be concisely expressed in terms of the exterior covariant derivative $d_\nabla$ as
\begin{align}
    d_\nabla T &= \Omega_{\, j} \wedge \theta^j\qquad \text{i.e.}\quad d_\nabla T^i = \Omega^i_{\, j} \wedge \theta^j,
    \\
    d_\nabla \Omega_{\, j} &= 0\qquad \text{i.e.}\quad d_\nabla \Omega^i_{\, j} = 0.
\end{align}
In particular, in absence of torsion the first Bianchi identity reduces to
\begin{equation}
    \Omega^i_{\, j} \wedge \theta^j = 0.
\end{equation}
\end{mytheorem}
\begin{proof}
The first identity follows from direct computation of the exterior covariant derivative of the torsion 2-form and the second Cartan equation above
\begin{align}
    d_\nabla T &= d_\nabla (d_\nabla \theta) = d_\nabla \left[e_i\otimes \left(d \theta^i + \omega^i_{\, j} \wedge \theta^j \right)\right]
    \\
    &=
    e_i\otimes \left(\graycancel{d^2 \theta^i} + d\omega^i_{\, j} \wedge \theta^j \bluecancel{- \omega^i_{\, j} \wedge d\theta^j}  \right)
    + e_i \omega^i_k\wedge \left(\bluecancel{d \theta^k} + \omega^k_{\, j} \wedge \theta^j \right) 
    \\
    &=
    e_i \otimes \left( d\omega^i_{\, j} + \omega^i_{\, k} \wedge \omega^k_{\, j} \right) \wedge \theta^j
    \equiv \Omega_{\, j} \wedge \theta^j.
\end{align}

\end{proof}